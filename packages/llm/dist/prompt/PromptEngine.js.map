{"version":3,"file":"PromptEngine.js","sourceRoot":"","sources":["../../src/prompt/PromptEngine.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,kBAAkB,CAAC;AAE5C,OAAO,EAAY,UAAU,EAAE,MAAM,eAAe,CAAC;AACrD,OAAO,EAAE,cAAc,EAAE,MAAM,aAAa,CAAC;AAE7C,MAAM,OAAO,YAAY;IACvB,KAAK,CAAC,WAAW,CAAC,EAAY,EAAE,IAAiB;QAC/C,MAAM,QAAQ,GAAG,MAAM,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC;QACzD,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAC/C,OAAO,cAAc,CAAC,QAAQ,EAAE;YAC9B,iBAAiB,EAAE,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;CACF","sourcesContent":["import { readFile } from \"node:fs/promises\";\nimport { FeatureSpec } from \"@llmqa/core\";\nimport { PromptId, promptPath } from \"./PromptId.js\";\nimport { renderTemplate } from \"./render.js\";\n\nexport class PromptEngine {\n  async buildPrompt(id: PromptId, spec: FeatureSpec): Promise<string> {\n    const template = await readFile(promptPath(id), \"utf-8\");\n    const specJson = JSON.stringify(spec, null, 2);\n    return renderTemplate(template, {\n      FEATURE_SPEC_JSON: specJson\n    });\n  }\n}\n"]}